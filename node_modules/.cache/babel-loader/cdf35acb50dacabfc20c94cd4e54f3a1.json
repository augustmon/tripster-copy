{"ast":null,"code":"import Parse from \"parse\";\nexport async function checkUsersArray(usersArray) {\n  // check if both UserName variables hold any values\n  if (usersArray === undefined || usersArray.length < 2) {\n    alert(\"Please inform both sender and receiver!\");\n    return false;\n  } else {\n    console.log(\"Users are present\");\n    return true;\n  }\n}\n// DELETE THIS ^\n\nexport async function chatRoomSetup(usersArray) {\n  let chatRoomObject = null;\n  try {\n    const chatRoomParseQuery = new Parse.Query(\"ChatRoom\");\n    chatRoomParseQuery.containsAll(\"users\", usersArray);\n    const chatRoomParseQueryResult = await chatRoomParseQuery.first();\n    if (chatRoomParseQueryResult !== undefined && chatRoomParseQueryResult !== null) {\n      console.log(\"Chat Room ID:\", chatRoomParseQueryResult.id);\n      chatRoomObject = chatRoomParseQueryResult;\n      chatRoomObject.save();\n      return chatRoomObject;\n      //\n      //\n    } else if (usersArray.length >= 2 && chatRoomParseQueryResult === undefined) {\n      alert(\"CREATING NEW CHAT ROOM\");\n      chatRoomObject = new Parse.Object(\"ChatRoom\");\n      chatRoomObject.set(\"users\", usersArray); // POINTER OBJECTS HERE!\n      await chatRoomObject.save();\n      console.log(\"new chatroom:\", chatRoomObject.id);\n      return chatRoomObject;\n      //\n      //\n    } else {\n      console.log(\"not two users set\");\n    }\n  } catch (error) {\n    console.log(\"ChatRoom Error\", error);\n    return false;\n  }\n}","map":{"version":3,"names":["Parse","checkUsersArray","usersArray","undefined","length","alert","console","log","chatRoomSetup","chatRoomObject","chatRoomParseQuery","Query","containsAll","chatRoomParseQueryResult","first","id","save","Object","set","error"],"sources":["/Users/august/Documents/ITU/TID/exam/tripster/src/api/chat.js"],"sourcesContent":["import Parse from \"parse\";\n\nexport async function checkUsersArray(usersArray) {\n  // check if both UserName variables hold any values\n  if (usersArray === undefined || usersArray.length < 2) {\n    alert(\"Please inform both sender and receiver!\");\n    return false;\n  } else {\n    console.log(\"Users are present\");\n    return true;\n  }\n}\n// DELETE THIS ^\n\nexport async function chatRoomSetup(usersArray) {\n  let chatRoomObject = null;\n  try {\n    const chatRoomParseQuery = new Parse.Query(\"ChatRoom\");\n    chatRoomParseQuery.containsAll(\"users\", usersArray);\n    const chatRoomParseQueryResult = await chatRoomParseQuery.first();\n    if (\n      chatRoomParseQueryResult !== undefined &&\n      chatRoomParseQueryResult !== null\n    ) {\n      console.log(\"Chat Room ID:\", chatRoomParseQueryResult.id);\n      chatRoomObject = chatRoomParseQueryResult;\n      chatRoomObject.save();\n      return chatRoomObject;\n      //\n      //\n    } else if (\n      usersArray.length >= 2 &&\n      chatRoomParseQueryResult === undefined\n    ) {\n      alert(\"CREATING NEW CHAT ROOM\");\n      chatRoomObject = new Parse.Object(\"ChatRoom\");\n      chatRoomObject.set(\"users\", usersArray); // POINTER OBJECTS HERE!\n      await chatRoomObject.save();\n      console.log(\"new chatroom:\", chatRoomObject.id);\n      return chatRoomObject;\n      //\n      //\n    } else {\n      console.log(\"not two users set\");\n    }\n  } catch (error) {\n    console.log(\"ChatRoom Error\", error);\n    return false;\n  }\n}\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,OAAO,eAAeC,eAAe,CAACC,UAAU,EAAE;EAChD;EACA,IAAIA,UAAU,KAAKC,SAAS,IAAID,UAAU,CAACE,MAAM,GAAG,CAAC,EAAE;IACrDC,KAAK,CAAC,yCAAyC,CAAC;IAChD,OAAO,KAAK;EACd,CAAC,MAAM;IACLC,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC;IAChC,OAAO,IAAI;EACb;AACF;AACA;;AAEA,OAAO,eAAeC,aAAa,CAACN,UAAU,EAAE;EAC9C,IAAIO,cAAc,GAAG,IAAI;EACzB,IAAI;IACF,MAAMC,kBAAkB,GAAG,IAAIV,KAAK,CAACW,KAAK,CAAC,UAAU,CAAC;IACtDD,kBAAkB,CAACE,WAAW,CAAC,OAAO,EAAEV,UAAU,CAAC;IACnD,MAAMW,wBAAwB,GAAG,MAAMH,kBAAkB,CAACI,KAAK,EAAE;IACjE,IACED,wBAAwB,KAAKV,SAAS,IACtCU,wBAAwB,KAAK,IAAI,EACjC;MACAP,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEM,wBAAwB,CAACE,EAAE,CAAC;MACzDN,cAAc,GAAGI,wBAAwB;MACzCJ,cAAc,CAACO,IAAI,EAAE;MACrB,OAAOP,cAAc;MACrB;MACA;IACF,CAAC,MAAM,IACLP,UAAU,CAACE,MAAM,IAAI,CAAC,IACtBS,wBAAwB,KAAKV,SAAS,EACtC;MACAE,KAAK,CAAC,wBAAwB,CAAC;MAC/BI,cAAc,GAAG,IAAIT,KAAK,CAACiB,MAAM,CAAC,UAAU,CAAC;MAC7CR,cAAc,CAACS,GAAG,CAAC,OAAO,EAAEhB,UAAU,CAAC,CAAC,CAAC;MACzC,MAAMO,cAAc,CAACO,IAAI,EAAE;MAC3BV,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEE,cAAc,CAACM,EAAE,CAAC;MAC/C,OAAON,cAAc;MACrB;MACA;IACF,CAAC,MAAM;MACLH,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC;IAClC;EACF,CAAC,CAAC,OAAOY,KAAK,EAAE;IACdb,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEY,KAAK,CAAC;IACpC,OAAO,KAAK;EACd;AACF"},"metadata":{},"sourceType":"module"}